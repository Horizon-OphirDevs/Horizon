import React, { useState, useEffect } from "react";
// ... (other imports)

const Topbar = ({ activeSection }) => {
  // ... (other code)

  // Step 1: State variables for search query and results
  const [searchQuery, setSearchQuery] = useState("");
  const [searchResults, setSearchResults] = useState([]);

  // Step 2: Search function
  const handleSearch = async () => {
    if (searchQuery) {
      try {
        const response = await axios.get(
          "https://api.coingecko.com/api/v3/search",
          {
            params: {
              query: searchQuery,
            },
          }
        );

        setSearchResults(response.data);
      } catch (error) {
        console.error("Error fetching data from CoinGecko API:", error);
        setSearchResults([]);
      }
    }
  };

  // Step 3: UseEffect to trigger search on query change
  useEffect(() => {
    handleSearch();
  }, [searchQuery]);

  // ... (other code)

  return (
    <header>
      {/* ... (other code) */}

      <div className=" gap-2 px-2 hidden md:block w-[50%]">
        <div className="relative border flex  md:w-full bg-[#1f1f1f] items-stretch rounded-lg">
          {/* Step 4: Add onChange and onKeyDown event handlers */}
          <input
            type="search"
            className="relative m-0 block md:w-52 min-w-0  flex-auto rounded bg-transparent bg-clip-padding px-3 py-[0.25rem] text-xs font-normal leading-[1.6] text-neutral-700 outline-none transition duration-200 ease-in-out focus:z-[3] focus:border-primary focus:text-neutral-700 focus:shadow-[inset_0_0_0_1px_rgb(59,113,202)] focus:outline-none dark:border-neutral-600 dark:focus:border-primary"
            placeholder="search token or contract"
            value={searchQuery}
            onChange={(e) => setSearchQuery(e.target.value)}
            onKeyDown={(e) => {
              if (e.key === "Enter") {
                handleSearch();
              }
            }}
          />
          {/* ... (other code) */}
        </div>
      </div>

      {/* ... (other code) */}
    </header>
  );
};

export default Topbar;
